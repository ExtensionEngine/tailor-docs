<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Content Elements | Tailor docs</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/tailor-docs/default-logo-full.svg">
    <meta name="description" content="Strategy, Implementation, Support">
    
    <link rel="preload" href="/tailor-docs/assets/css/0.styles.cf550fb0.css" as="style"><link rel="preload" href="/tailor-docs/assets/js/app.b077ca12.js" as="script"><link rel="preload" href="/tailor-docs/assets/js/2.14e4ed1d.js" as="script"><link rel="preload" href="/tailor-docs/assets/js/8.de4bf59d.js" as="script"><link rel="prefetch" href="/tailor-docs/assets/js/10.a76addd2.js"><link rel="prefetch" href="/tailor-docs/assets/js/11.1f22d665.js"><link rel="prefetch" href="/tailor-docs/assets/js/12.c2c073a2.js"><link rel="prefetch" href="/tailor-docs/assets/js/13.8704064a.js"><link rel="prefetch" href="/tailor-docs/assets/js/14.78819804.js"><link rel="prefetch" href="/tailor-docs/assets/js/15.9a76c7b2.js"><link rel="prefetch" href="/tailor-docs/assets/js/16.596938b1.js"><link rel="prefetch" href="/tailor-docs/assets/js/17.4c731d80.js"><link rel="prefetch" href="/tailor-docs/assets/js/18.04be7bca.js"><link rel="prefetch" href="/tailor-docs/assets/js/19.f9782b4e.js"><link rel="prefetch" href="/tailor-docs/assets/js/20.78db91e3.js"><link rel="prefetch" href="/tailor-docs/assets/js/21.631f2ad3.js"><link rel="prefetch" href="/tailor-docs/assets/js/22.ce6b5d9d.js"><link rel="prefetch" href="/tailor-docs/assets/js/23.08290157.js"><link rel="prefetch" href="/tailor-docs/assets/js/24.ca9944a0.js"><link rel="prefetch" href="/tailor-docs/assets/js/25.8fbffa19.js"><link rel="prefetch" href="/tailor-docs/assets/js/26.5778a156.js"><link rel="prefetch" href="/tailor-docs/assets/js/27.63339f61.js"><link rel="prefetch" href="/tailor-docs/assets/js/3.ea69ca97.js"><link rel="prefetch" href="/tailor-docs/assets/js/4.97f5c5a5.js"><link rel="prefetch" href="/tailor-docs/assets/js/5.02c482ae.js"><link rel="prefetch" href="/tailor-docs/assets/js/6.a9cef0fd.js"><link rel="prefetch" href="/tailor-docs/assets/js/7.dfbca1a7.js"><link rel="prefetch" href="/tailor-docs/assets/js/9.7b185e39.js">
    <link rel="stylesheet" href="/tailor-docs/assets/css/0.styles.cf550fb0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/tailor-docs/" class="home-link router-link-active"><!----> <span class="site-name">Tailor docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/ExtensionEngine/tailor" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Tailor
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/ExtensionEngine/boutique" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Boutique
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/ExtensionEngine/tape" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Tape
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/ExtensionEngine/tailor" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Tailor
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/ExtensionEngine/boutique" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Boutique
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/ExtensionEngine/tape" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Tape
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Tailor</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tailor-docs/tailor/intro.html" class="sidebar-link">Introduction</a></li><li><a href="/tailor-docs/tailor/concepts.html" class="sidebar-link">Concepts</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>User guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tailor-docs/tailor/user-guide/catalog.html" class="sidebar-link">Catalog</a></li><li><a href="/tailor-docs/tailor/user-guide/repository.html" class="sidebar-link">Repository</a></li><li><a href="/tailor-docs/tailor/user-guide/editor.html" class="sidebar-link">Editor</a></li><li><a href="/tailor-docs/tailor/user-guide/collaboration.html" class="sidebar-link">Collaboration</a></li><li><a href="/tailor-docs/tailor/user-guide/admin.html" class="sidebar-link">Admin</a></li><li><a href="/tailor-docs/tailor/user-guide/profile.html" class="sidebar-link">User profile</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Developer guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tailor-docs/tailor/developer-guide/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/tailor-docs/tailor/developer-guide/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/tailor-docs/tailor/developer-guide/publishing.html" class="sidebar-link">Publishing</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading open"><span>Extensions</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tailor-docs/tailor/developer-guide/extensions/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/tailor-docs/tailor/developer-guide/extensions/elements.html" aria-current="page" class="active sidebar-link">Content Elements</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tailor-docs/tailor/developer-guide/extensions/elements.html#development" class="sidebar-link">Development</a></li><li class="sidebar-sub-header"><a href="/tailor-docs/tailor/developer-guide/extensions/elements.html#configuration" class="sidebar-link">Configuration</a></li><li class="sidebar-sub-header"><a href="/tailor-docs/tailor/developer-guide/extensions/elements.html#examples" class="sidebar-link">Examples</a></li></ul></li><li><a href="/tailor-docs/tailor/developer-guide/extensions/containers.html" class="sidebar-link">Containers</a></li><li><a href="/tailor-docs/tailor/developer-guide/extensions/metas.html" class="sidebar-link">Meta Inputs</a></li><li><a href="/tailor-docs/tailor/developer-guide/extensions/utils.html" class="sidebar-link">Utils</a></li></ul></section></li><li><a href="/tailor-docs/tailor/developer-guide/sso.html" class="sidebar-link">SSO</a></li><li><a href="/tailor-docs/tailor/developer-guide/storage-proxy.html" class="sidebar-link">Storage Proxy</a></li><li><a href="/tailor-docs/tailor/developer-guide/branding.html" class="sidebar-link">Branding</a></li><li><a href="/tailor-docs/tailor/developer-guide/migration.html" class="sidebar-link">Migration from v4</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="content-elements"><a href="#content-elements" class="header-anchor">#</a> Content Elements</h1> <p>Content elements are the basic building block of content inside Tailor. They are contained inside of containers. This feature gives an easy way to develop and configure new content elements.</p> <h2 id="development"><a href="#development" class="header-anchor">#</a> Development</h2> <h3 id="set-up"><a href="#set-up" class="header-anchor">#</a> Set up</h3> <p>A template exists which can be used to create the basic structure for a content element. It can be found <a href="https://github.com/ExtensionEngine/tailor-element-template" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> along with instructions on how to get started with it.</p> <h3 id="files"><a href="#files" class="header-anchor">#</a> Files</h3> <p>Below is a rundown of all the files located in the template and what their purpose is.</p> <h4 id="index-js"><a href="#index-js" class="header-anchor">#</a> <code>index.js</code></h4> <p>The file used by Tailor's front-end build process to include the content element. This file must exist.</p> <h4 id="info-js"><a href="#info-js" class="header-anchor">#</a> <code>info.js</code></h4> <p>The file that contains basic information about this content element which can be useful to the front-end and the back-end. This file does not need to exist but then its contents need to be found in any file that needs them (<code>index.js</code> and <code>server/index.js</code> in the template use it).</p> <h4 id="server-index-js"><a href="#server-index-js" class="header-anchor">#</a> <code>server/index.js</code></h4> <p>The file that holds the server logic. It does not need to exist. The server logic is handled through hooks that can be grouped into two sections:</p> <ul><li>Create/update element hooks (<code>beforeSave</code>, <code>afterSave</code>, <code>afterLoaded</code>),</li> <li>Fetch element hooks (<code>afterRetrieve</code>, <code>afterLoaded</code>).</li></ul> <p>All hooks are called with 2 arguments. The first argument is the element itself, and the second argument is the service bag which contains the config service, the storage service, and the storage proxy service. Hook declaration looks as follows:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">hook</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">element</span><span class="token operator">:</span> SequelizeModel<span class="token punctuation">,</span> <span class="token literal-property property">services</span><span class="token operator">:</span> Object</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> element
</code></pre></div><p>The <code>hook</code> function returns the original or modified element. For example, depending on the hook type, we can modify the element before saving it to the database (<code>beforeSave</code>) or before delivering it to the frontend (e.g., <code>afterLoaded</code>).</p> <p><img src="/tailor-docs/assets/img/tce-hooks.20ba3cdf.png" alt="Element hooks"></p> <h4 id="edit-index-vue"><a href="#edit-index-vue" class="header-anchor">#</a> <code>edit/index.vue</code></h4> <p>The file used by the front-end to display the content element. This file needs to exist in some form but it does not need to be in an <code>edit</code> folder or with this name. The only requirement is that it is imported in the <code>index.js</code> file as <code>Edit</code>.</p> <h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <p>There needs to be an <code>index.js</code> file inside of the <code>content-elements</code> folder for Tailor to load any custom content elements. If such file does not exist it needs to be created first and it should look like this:</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>For Tailor to use any custom element, add the name of the folder that contains the custom content element to the array. It should look something like this:</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'&lt;name-of-folder-given-to-degit&gt;'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="environment-variables"><a href="#environment-variables" class="header-anchor">#</a> Environment variables</h3> <p>Environment variables can be defined for a particular content element type. In order to add a content element environment variable just add it to Tailor’s <code>.env</code> file as you would normally do and prefix it with <code>TCE_</code> prefix. Content element environment variables can be found inside the config object, under the tce namespace (passed to the hooks).
For example, if the content element environment variable is named <code>TCE_MY_API_KEY</code> it can be accessed as follows:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">hook</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> <span class="token punctuation">{</span> config <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> myApiKey <span class="token operator">=</span> config<span class="token punctuation">.</span>tce<span class="token punctuation">.</span>myApiKey<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Notice that the <code>TCE_</code> prefix is dropped and the environment variable name is converted to camelCase.</p> <h2 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h2> <div class="custom-block tip"><p class="custom-block-title">TODO</p> <p>Add a basic example</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/tailor-docs/tailor/developer-guide/extensions/introduction.html" class="prev">
        Introduction
      </a></span> <span class="next"><a href="/tailor-docs/tailor/developer-guide/extensions/containers.html">
        Containers
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/tailor-docs/assets/js/app.b077ca12.js" defer></script><script src="/tailor-docs/assets/js/2.14e4ed1d.js" defer></script><script src="/tailor-docs/assets/js/8.de4bf59d.js" defer></script>
  </body>
</html>
