<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Migration from v4 | Tailor docs</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/tailor-docs/default-logo-full.svg">
    <meta name="description" content="Strategy, Implementation, Support">
    
    <link rel="preload" href="/tailor-docs/assets/css/0.styles.cf550fb0.css" as="style"><link rel="preload" href="/tailor-docs/assets/js/app.b077ca12.js" as="script"><link rel="preload" href="/tailor-docs/assets/js/2.14e4ed1d.js" as="script"><link rel="preload" href="/tailor-docs/assets/js/20.78db91e3.js" as="script"><link rel="prefetch" href="/tailor-docs/assets/js/10.a76addd2.js"><link rel="prefetch" href="/tailor-docs/assets/js/11.1f22d665.js"><link rel="prefetch" href="/tailor-docs/assets/js/12.c2c073a2.js"><link rel="prefetch" href="/tailor-docs/assets/js/13.8704064a.js"><link rel="prefetch" href="/tailor-docs/assets/js/14.78819804.js"><link rel="prefetch" href="/tailor-docs/assets/js/15.9a76c7b2.js"><link rel="prefetch" href="/tailor-docs/assets/js/16.596938b1.js"><link rel="prefetch" href="/tailor-docs/assets/js/17.4c731d80.js"><link rel="prefetch" href="/tailor-docs/assets/js/18.04be7bca.js"><link rel="prefetch" href="/tailor-docs/assets/js/19.f9782b4e.js"><link rel="prefetch" href="/tailor-docs/assets/js/21.631f2ad3.js"><link rel="prefetch" href="/tailor-docs/assets/js/22.ce6b5d9d.js"><link rel="prefetch" href="/tailor-docs/assets/js/23.08290157.js"><link rel="prefetch" href="/tailor-docs/assets/js/24.ca9944a0.js"><link rel="prefetch" href="/tailor-docs/assets/js/25.8fbffa19.js"><link rel="prefetch" href="/tailor-docs/assets/js/26.5778a156.js"><link rel="prefetch" href="/tailor-docs/assets/js/27.63339f61.js"><link rel="prefetch" href="/tailor-docs/assets/js/3.ea69ca97.js"><link rel="prefetch" href="/tailor-docs/assets/js/4.97f5c5a5.js"><link rel="prefetch" href="/tailor-docs/assets/js/5.02c482ae.js"><link rel="prefetch" href="/tailor-docs/assets/js/6.a9cef0fd.js"><link rel="prefetch" href="/tailor-docs/assets/js/7.dfbca1a7.js"><link rel="prefetch" href="/tailor-docs/assets/js/8.de4bf59d.js"><link rel="prefetch" href="/tailor-docs/assets/js/9.7b185e39.js">
    <link rel="stylesheet" href="/tailor-docs/assets/css/0.styles.cf550fb0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/tailor-docs/" class="home-link router-link-active"><!----> <span class="site-name">Tailor docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/ExtensionEngine/tailor" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Tailor
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/ExtensionEngine/boutique" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Boutique
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/ExtensionEngine/tape" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Tape
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/ExtensionEngine/tailor" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Tailor
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/ExtensionEngine/boutique" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Boutique
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/ExtensionEngine/tape" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Tape
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Tailor</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tailor-docs/tailor/intro.html" class="sidebar-link">Introduction</a></li><li><a href="/tailor-docs/tailor/concepts.html" class="sidebar-link">Concepts</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>User guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tailor-docs/tailor/user-guide/catalog.html" class="sidebar-link">Catalog</a></li><li><a href="/tailor-docs/tailor/user-guide/repository.html" class="sidebar-link">Repository</a></li><li><a href="/tailor-docs/tailor/user-guide/editor.html" class="sidebar-link">Editor</a></li><li><a href="/tailor-docs/tailor/user-guide/collaboration.html" class="sidebar-link">Collaboration</a></li><li><a href="/tailor-docs/tailor/user-guide/admin.html" class="sidebar-link">Admin</a></li><li><a href="/tailor-docs/tailor/user-guide/profile.html" class="sidebar-link">User profile</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Developer guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tailor-docs/tailor/developer-guide/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/tailor-docs/tailor/developer-guide/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/tailor-docs/tailor/developer-guide/publishing.html" class="sidebar-link">Publishing</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Extensions</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/tailor-docs/tailor/developer-guide/sso.html" class="sidebar-link">SSO</a></li><li><a href="/tailor-docs/tailor/developer-guide/storage-proxy.html" class="sidebar-link">Storage Proxy</a></li><li><a href="/tailor-docs/tailor/developer-guide/branding.html" class="sidebar-link">Branding</a></li><li><a href="/tailor-docs/tailor/developer-guide/migration.html" aria-current="page" class="active sidebar-link">Migration from v4</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tailor-docs/tailor/developer-guide/migration.html#update-your-schema" class="sidebar-link">Update your schema</a></li><li class="sidebar-sub-header"><a href="/tailor-docs/tailor/developer-guide/migration.html#define-a-workflow-for-your-schema" class="sidebar-link">Define a workflow for your schema</a></li><li class="sidebar-sub-header"><a href="/tailor-docs/tailor/developer-guide/migration.html#setup-storage-proxy" class="sidebar-link">Setup storage proxy</a></li><li class="sidebar-sub-header"><a href="/tailor-docs/tailor/developer-guide/migration.html#update-auth-environment-variables" class="sidebar-link">Update auth environment variables</a></li><li class="sidebar-sub-header"><a href="/tailor-docs/tailor/developer-guide/migration.html#setup-sso" class="sidebar-link">Setup SSO</a></li><li class="sidebar-sub-header"><a href="/tailor-docs/tailor/developer-guide/migration.html#setup-publish-webhooks" class="sidebar-link">Setup publish webhooks</a></li><li class="sidebar-sub-header"><a href="/tailor-docs/tailor/developer-guide/migration.html#final-steps" class="sidebar-link">Final steps</a></li></ul></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="migration-from-v4"><a href="#migration-from-v4" class="header-anchor">#</a> Migration from v4</h1> <h2 id="update-your-schema"><a href="#update-your-schema" class="header-anchor">#</a> Update your schema</h2> <p>Remove the <code>level</code> attribute from <em>activity</em> definition(s) within your <em>schema</em>(s) and set <code>rootLevel</code> to <code>true</code> for all root level <em>activities</em>. For more details regarding <em>schema</em> configuration options, visit the <a href="/tailor-docs/tailor/developer-guide/configuration.html">configuration section</a>. Here is an example of a simple <em>schema</em> with <em>Module</em> as a root <em>activity</em> (recursive) and <em>Lesson activity</em> that can only reside within a <em>Module</em>. The <em>Lesson</em> has a simple <em>Page</em> container attached to it; to which we add our <em>content elements</em> (HTML, Image, Video, etc.).</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">MODULE</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'MODULE'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rootLevel</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'Module'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#5187C7'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">subLevels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'MODULE'</span><span class="token punctuation">,</span> <span class="token string">'LESSON'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
   
<span class="token keyword">const</span> <span class="token constant">LESSON</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'LESSON'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'Lesson'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#08A9AD'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">contentContainers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'PAGE'</span><span class="token punctuation">]</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">SCHEMAS</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'DEMO_SCHEMA'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Demo course'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">structure</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">MODULE</span><span class="token punctuation">,</span> <span class="token constant">LESSON</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="define-a-workflow-for-your-schema"><a href="#define-a-workflow-for-your-schema" class="header-anchor">#</a> Define a workflow for your schema</h2> <p>In order to use workflow for a particular <em>schema</em>, you need to define statuses and <em>activity</em> types you wish to track. Here is an example of a simple workflow definition:</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>This is an optional functionality.</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">DEMO_WORKFLOW</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'DEMO_WORKFLOW'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">statuses</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'TODO'</span><span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'Todo'</span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#E91E63'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'IN_PROGRESS'</span><span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'In progress'</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#039BE5'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'REVIEW'</span><span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'Review'</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#00BFA5'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'DONE'</span><span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'Done'</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#00BFA5'</span>  <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>More information regarding workflow definition can be found <a href="https://github.com/ExtensionEngine/tailor#workflows" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. In order to track specific <em>activity</em> within workflow, <code>isTrackedInWorkflow</code> attribute needs to be set. Here is an example of the previously defined schema with included workflow definition:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">DEMO_WORKFLOW</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'DEMO_WORKFLOW'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">statuses</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'TODO'</span><span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'Todo'</span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#E91E63'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'IN_PROGRESS'</span><span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'In progress'</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#039BE5'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'REVIEW'</span><span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'Review'</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#00BFA5'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'DONE'</span><span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'Done'</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#00BFA5'</span>  <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
  
<span class="token keyword">const</span> <span class="token constant">MODULE</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'MODULE'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rootLevel</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">isTrackedInWorkflow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'Module'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#5187C7'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">subLevels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'MODULE'</span><span class="token punctuation">,</span> <span class="token string">'LESSON'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">LESSON</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'LESSON'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">isTrackedInWorkflow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'Lesson'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#08A9AD'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">contentContainers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'PAGE'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
  
<span class="token keyword">const</span> <span class="token constant">DEMO_SCHEMA</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'DEMO_SCHEMA'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">workflowId</span><span class="token operator">:</span> <span class="token constant">DEMO_WORKFLOW</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Demo course'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">structure</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">MODULE</span><span class="token punctuation">,</span> <span class="token constant">LESSON</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
  
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">SCHEMAS</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">DEMO_SCHEMA</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token constant">WORKFLOWS</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">DEMO_WORKFLOW</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="setup-storage-proxy"><a href="#setup-storage-proxy" class="header-anchor">#</a> Setup storage proxy</h2> <p>Version 5.0 of Tailor does not work without a storage proxy. Either a Cloudfront or a local storage proxy needs to be configured.
For a comprehensive how-to guide, visit the <a href="/tailor-docs/tailor/developer-guide/storage-proxy.html#setup">the storage proxy guide</a>.</p> <h2 id="update-auth-environment-variables"><a href="#update-auth-environment-variables" class="header-anchor">#</a> Update auth environment variables</h2> <p>Set <code>AUTH_JWT_COOKIE_NAME</code> and <code>AUTH_JWT_COOKIE_SECRET</code> (see <a href="https://github.com/ExtensionEngine/tailor/blob/develop/.env.example" target="_blank" rel="noopener noreferrer"><code>.env.example</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>).</p> <h2 id="setup-sso"><a href="#setup-sso" class="header-anchor">#</a> Setup SSO</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>This is an optional functionality.</p></div> <p>For a detailed configuration guide, please visit <a href="/tailor-docs/tailor/developer-guide/sso.html#setup">the SSO setup guide</a>.</p> <h2 id="setup-publish-webhooks"><a href="#setup-publish-webhooks" class="header-anchor">#</a> Setup publish webhooks</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>This is an optional functionality.</p></div> <p>For a detailed configuration guide, please visit <a href="/tailor-docs/tailor/developer-guide/publishing.html#webhooks">the publish webhooks guide</a>.</p> <h2 id="final-steps"><a href="#final-steps" class="header-anchor">#</a> Final steps</h2> <ol><li>Compare your environment variables with <a href="https://github.com/ExtensionEngine/tailor/blob/develop/.env.example" target="_blank" rel="noopener noreferrer"><code>.env.example</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and make sure all options are properly set</li> <li>Make sure meta (configurable) input validation rules work</li> <li>Backup your DB and static assets</li> <li>Run DB migrations</li> <li>Run the static asset migration script
<ul><li><code>npm run migrateAssetsLocation</code></li></ul></li> <li>Install packages and rebuild
<ul><li><code>npm install &amp;&amp; npm run build</code></li></ul></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/tailor-docs/tailor/developer-guide/branding.html" class="prev">
        Branding
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/tailor-docs/assets/js/app.b077ca12.js" defer></script><script src="/tailor-docs/assets/js/2.14e4ed1d.js" defer></script><script src="/tailor-docs/assets/js/20.78db91e3.js" defer></script>
  </body>
</html>
